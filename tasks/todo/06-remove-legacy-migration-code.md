# TODO: 레거시 마이그레이션 코드 제거

- status: [ ]
- priority: low (P3)
- category: code-cleanup
- estimated_effort: 30분
- depends_on: []
- spec_reference: `pkg/config/migration.go:4`

## 📋 작업 개요

코드베이스에서 더 이상 필요하지 않은 레거시 마이그레이션 패키지를 완전히 제거합니다. 해당 코드에는 `TODO: LEGACY_REMOVAL - This entire migration package should be removed.` 주석이 명시되어 있어 제거가 예정된 코드입니다.

## 🎯 제거 대상

### 1. **마이그레이션 패키지 전체**
- [ ] **파일**: `pkg/config/migration.go`
- [ ] **내용**: 전체 마이그레이션 패키지 및 관련 코드
- [ ] **이유**: TODO 주석에서 명시적으로 제거 예정으로 표시

### 2. **관련 의존성 정리**
- [ ] 마이그레이션 패키지를 import하는 다른 파일들 확인
- [ ] 사용되지 않는 관련 함수들 제거
- [ ] 테스트 파일들도 함께 정리

## 🔧 제거 전 분석 작업

### 1. 의존성 분석
```bash
# 마이그레이션 패키지를 사용하는 파일들 찾기
grep -r "config/migration" . --include="*.go"
grep -r "migration\." . --include="*.go"

# import 구문 확인
grep -r "github.com/Gizzahub/gzh-manager-go/pkg/config/migration" . --include="*.go"
```

### 2. 기능 확인
- [ ] 마이그레이션 패키지가 현재 실제로 사용되는지 확인
- [ ] 제거해도 기존 기능에 영향 없는지 검증
- [ ] 대체 구현이 이미 존재하는지 확인

### 3. 호환성 검토
- [ ] 공개 API 변경사항 없는지 확인
- [ ] 기존 설정 파일 처리에 문제 없는지 확인
- [ ] 업그레이드 경로에 문제 없는지 확인

## 📁 제거할 파일들

### 확실히 제거할 파일
- `pkg/config/migration.go` - 메인 마이그레이션 코드
- `pkg/config/migration_test.go` - 마이그레이션 테스트 (있는 경우)

### 검토 후 정리할 파일들
- 마이그레이션 관련 유틸리티 함수들
- 더 이상 사용되지 않는 설정 구조체들
- 관련 문서 파일들

## 🔍 제거 전 현재 코드 분석

### migration.go 현재 내용 확인 필요
```go
// 현재 파일 내용을 분석하여 다음 확인:
// 1. 어떤 마이그레이션 기능을 제공하는가?
// 2. 다른 패키지에서 실제로 사용되는가?
// 3. 제거해도 안전한가?
```

### 단계별 제거 계획
1. **1단계**: 의존성 분석 및 사용처 확인
2. **2단계**: 사용되는 곳이 있다면 대체 구현 확인
3. **3단계**: 테스트 실행하여 제거 후 영향 확인
4. **4단계**: 파일 제거 및 import 정리
5. **5단계**: 전체 테스트 실행 및 검증

## 🧪 테스트 방법

### 1. 제거 전 테스트
```bash
# 현재 모든 테스트 통과 확인
make test

# 특히 config 관련 테스트
go test ./pkg/config/...
```

### 2. 제거 후 검증
```bash
# 컴파일 에러 없는지 확인
go build ./...

# 모든 테스트 통과 확인
make test

# lint 통과 확인
make lint
```

### 3. 통합 테스트
```bash
# 실제 설정 파일 로딩 테스트
go test ./pkg/config -tags=integration
```

## ✅ 완료 기준

### 제거 완료 확인
- [ ] `pkg/config/migration.go` 파일 완전 제거
- [ ] 관련 테스트 파일들 제거
- [ ] 모든 import 구문에서 마이그레이션 패키지 제거
- [ ] 컴파일 에러 없음

### 기능 안전성 확인
- [ ] 모든 기존 테스트 통과
- [ ] 설정 파일 로딩 기능 정상 동작
- [ ] 기존 사용자 환경에서 문제 없음
- [ ] 새로운 설정 시스템 정상 동작

### 코드 정리 완료
- [ ] 불필요한 주석 제거
- [ ] 관련 문서 업데이트 (필요한 경우)
- [ ] go.mod에서 불필요한 의존성 정리

## 🚀 커밋 메시지 가이드

```
refactor(claude-opus): 레거시 마이그레이션 코드 제거

- pkg/config/migration.go 패키지 완전 제거
- 더 이상 사용되지 않는 마이그레이션 로직 정리
- 관련 import 구문 및 의존성 정리
- 코드베이스 단순화 및 유지보수성 향상

Resolves: pkg/config/migration.go:4 "TODO: LEGACY_REMOVAL"

🤖 Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>
```

## 💡 구현 힌트

1. **점진적 제거**: 한번에 모든 파일을 제거하지 말고 단계별로 진행
2. **백업 생성**: 제거 전에 현재 상태 백업
3. **의존성 추적**: grep이나 IDE의 find usage 기능 활용
4. **테스트 우선**: 각 단계마다 테스트 실행하여 안전성 확인

## 🔗 관련 작업

이 작업은 독립적으로 수행 가능하며 다음과 연관될 수 있습니다:
- 전반적인 코드베이스 정리 작업
- 설정 시스템 현대화
- 기술 부채 해결

## ⚠️ 주의사항

### 제거 전 주의점
- 해당 코드가 실제로 사용되지 않는지 반드시 확인
- 기존 사용자의 설정 파일 처리에 문제 없는지 검토
- 마이그레이션이 필요한 기존 데이터가 없는지 확인

### 제거 시 주의점
- 한번에 너무 많은 파일을 제거하지 말 것
- 각 단계마다 테스트 실행하여 문제 조기 발견
- 공개 API 변경 시 버전 호환성 고려

### 제거 후 확인사항
- 모든 기능이 정상 동작하는지 확인
- 성능에 영향이 없는지 확인
- 메모리 사용량 개선 여부 확인

## 📊 예상 효과

### 긍정적 효과
- **코드베이스 크기 감소**: 불필요한 코드 제거로 유지보수 부담 감소
- **빌드 시간 단축**: 컴파일해야 할 코드 량 감소
- **복잡성 감소**: 더 이상 사용되지 않는 로직 제거로 코드 이해도 향상

### 리스크 최소화
- 단계별 제거로 문제 발생 시 빠른 복구 가능
- 충분한 테스트로 기능 회귀 방지
- 문서화를 통한 제거 이유 명확화
