{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": false,
  "definitions": {
    "githubDefault": {
      "additionalProperties": false,
      "description": "Default settings for GitHub",
      "properties": {
        "org_name": {
          "description": "Default organization name",
          "type": "string"
        },
        "protocol": {
          "description": "Protocol override for GitHub",
          "enum": [
            "",
            "http",
            "https",
            "ssh"
          ],
          "type": "string"
        },
        "provider": {
          "description": "Provider identifier",
          "type": "string"
        },
        "root_path": {
          "description": "Base directory for GitHub repositories",
          "type": "string"
        }
      },
      "type": "object"
    },
    "githubRepoRoot": {
      "additionalProperties": false,
      "description": "GitHub organization configuration",
      "properties": {
        "org_name": {
          "description": "GitHub organization name",
          "minLength": 1,
          "type": "string"
        },
        "protocol": {
          "description": "Protocol for Git operations",
          "enum": [
            "http",
            "https",
            "ssh"
          ],
          "type": "string"
        },
        "provider": {
          "const": "github",
          "description": "Git provider",
          "type": "string"
        },
        "root_path": {
          "description": "Directory where repositories will be cloned",
          "type": "string"
        }
      },
      "required": [
        "root_path",
        "provider",
        "protocol",
        "org_name"
      ],
      "type": "object"
    },
    "gitlabDefault": {
      "additionalProperties": false,
      "description": "Default settings for GitLab",
      "properties": {
        "group_name": {
          "description": "Default group name",
          "type": "string"
        },
        "protocol": {
          "description": "Protocol override for GitLab",
          "enum": [
            "",
            "http",
            "https",
            "ssh"
          ],
          "type": "string"
        },
        "provider": {
          "description": "Provider identifier",
          "type": "string"
        },
        "recursive": {
          "description": "Whether to clone subgroups recursively",
          "type": "boolean"
        },
        "root_path": {
          "description": "Base directory for GitLab repositories",
          "type": "string"
        },
        "url": {
          "description": "GitLab instance URL",
          "type": "string"
        }
      },
      "type": "object"
    }
  },
  "description": "Schema for gzh-manager bulk-clone configuration files",
  "properties": {
    "default": {
      "additionalProperties": false,
      "description": "Default settings for all providers",
      "properties": {
        "github": {
          "$ref": "#/definitions/githubDefault"
        },
        "gitlab": {
          "$ref": "#/definitions/gitlabDefault"
        },
        "protocol": {
          "description": "Default protocol for Git operations",
          "enum": [
            "http",
            "https",
            "ssh"
          ],
          "type": "string"
        }
      },
      "type": "object"
    },
    "ignore_names": {
      "description": "Repository name patterns to ignore (regex)",
      "items": {
        "type": "string"
      },
      "type": "array"
    },
    "repo_roots": {
      "description": "Repository configurations for different organizations",
      "items": {
        "$ref": "#/definitions/githubRepoRoot"
      },
      "type": "array"
    },
    "version": {
      "description": "Configuration schema version",
      "enum": [
        "0.1"
      ],
      "type": "string"
    }
  },
  "required": [
    "version"
  ],
  "title": "Bulk Clone Configuration Schema",
  "type": "object"
}
