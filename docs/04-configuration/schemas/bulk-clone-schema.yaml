# Bulk Clone Configuration Schema
# ================================
# This document describes the schema for bulk-clone.yaml configuration files

# Root Level Structure
root:
  version:
    type: string
    required: true
    description: Configuration schema version
    allowed_values: ["0.1"]
    example: "0.1"

  default:
    type: object
    required: false
    description: Default settings applied to all providers
    properties:
      protocol:
        type: string
        required: false
        description: Default protocol for Git operations
        allowed_values: [http, https, ssh]
        example: https

      github:
        type: object
        required: false
        description: GitHub-specific defaults
        properties:
          root_path:
            type: string
            required: false
            description: Base directory for GitHub repositories
            example: "$HOME/repos/github"
          provider:
            type: string
            required: false
            description: Provider identifier (always "github")
            example: "github"
          protocol:
            type: string
            required: false
            description: Protocol override for GitHub
            allowed_values: ["", http, https, ssh]
          org_name:
            type: string
            required: false
            description: Default organization name
            example: "myorg"

      gitlab:
        type: object
        required: false
        description: GitLab-specific defaults
        properties:
          root_path:
            type: string
            required: false
            description: Base directory for GitLab repositories
            example: "$HOME/repos/gitlab"
          provider:
            type: string
            required: false
            description: Provider identifier (always "gitlab")
            example: "gitlab"
          url:
            type: string
            required: false
            description: GitLab instance URL
            example: "https://gitlab.com"
          recursive:
            type: boolean
            required: false
            description: Whether to clone subgroups recursively
            example: false
          protocol:
            type: string
            required: false
            description: Protocol override for GitLab
            allowed_values: ["", http, https, ssh]
          group_name:
            type: string
            required: false
            description: Default group name
            example: "mygroup"

  repo_roots:
    type: array
    required: false
    description: Repository configurations for different organizations
    items:
      type: object
      required_properties: [root_path, provider, protocol, org_name]
      properties:
        root_path:
          type: string
          required: true
          description: Directory where repositories will be cloned
          example: "$HOME/work/mycompany"
        provider:
          type: string
          required: true
          description: Git provider (currently only "github" supported)
          allowed_values: ["github"]
          example: "github"
        protocol:
          type: string
          required: true
          description: Protocol for Git operations
          allowed_values: [http, https, ssh]
          example: "ssh"
        org_name:
          type: string
          required: true
          description: GitHub organization name
          example: "mycompany"

  ignore_names:
    type: array
    required: false
    description: Repository name patterns to ignore (Go regex syntax)
    items:
      type: string
      description: Regex pattern for repository names to ignore
    examples:
      - "^test-.*" # Ignore repos starting with 'test-'
      - ".*-archive$" # Ignore repos ending with '-archive'
      - "^temp.*" # Ignore repos starting with 'temp'

# Environment Variables
# ====================
# The following environment variables can be used in path values:
# - $HOME: User's home directory
# - $USER: Current username
# - Any other system environment variable

# Path Expansion
# =============
# Paths support the following expansions:
# - ~/: Expands to user's home directory
# - $VARIABLE: Expands to environment variable value

# Examples
# ========
# See samples/bulk-clone-simple.yaml for a minimal example
# See samples/bulk-clone-example.yaml for a comprehensive example with comments
