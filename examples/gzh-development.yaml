# Development environment gzh.yaml configuration
# Optimized for active development workflows

version: "1.0.0"
default_provider: github

sync_mode:
  cleanup_orphans: true

providers:
  github:
    token: "${GITHUB_TOKEN}"
    orgs:
      # Frontend development projects
      - name: "frontend-team"
        visibility: "all"
        clone_dir: "./projects/frontend"
        match: "^(web|app|mobile|ui)-.*" # Frontend project patterns
        exclude: [".*-archive", ".*-deprecated"]
        strategy: "pull" # Active development - use pull
        flatten: true # Flat structure for easy access

      # Backend development projects
      - name: "backend-team"
        visibility: "all"
        clone_dir: "./projects/backend"
        match: "^(api|service|worker|job)-.*" # Backend project patterns
        exclude: [".*-archive", ".*-deprecated", ".*-legacy"]
        strategy: "pull" # Active development - use pull
        flatten: true

      # DevOps and infrastructure
      - name: "devops-team"
        visibility: "private" # Usually private infrastructure
        clone_dir: "./projects/infrastructure"
        match: "^(infra|deploy|ci|cd|config)-.*"
        strategy: "reset" # Ensure clean state for infra
        flatten: false # Keep organized structure

      # Shared libraries and tools
      - name: "shared-libraries"
        visibility: "all"
        clone_dir: "./projects/libs"
        match: "^(lib|tool|util|helper)-.*"
        strategy: "fetch" # Libraries - fetch only
        flatten: true

      # Documentation and resources
      - name: "docs-team"
        visibility: "public"
        clone_dir: "./projects/docs"
        match: "^(docs|wiki|guide|tutorial)-.*"
        strategy: "pull"
        flatten: true
# Environment-specific settings can be handled with multiple config files:
# - gzh.dev.yaml (this file)
# - gzh.staging.yaml
# - gzh.prod.yaml
